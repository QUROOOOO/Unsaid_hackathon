<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <title>GitGrade â€” Recruiter-Grade GitHub Repo Analyzer</title>
  <meta name="description" content="Score, visuals, detailed report, and roadmap for any public GitHub repository." />

  <link rel="stylesheet" href="./styles.css" />

  <!-- Chart.js (UMD build) -->
  <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <!-- Matrix plugin (heatmap) - with fallback if CDN fails -->
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/chartjs-chart-matrix@3.0.0/dist/chartjs-chart-matrix.umd.min.js"
    onerror="this.onerror=null;this.src='https://unpkg.com/chartjs-chart-matrix@3.0.0/dist/chartjs-chart-matrix.umd.min.js';">
  </script>

  <!-- App -->
  <script defer src="./index.js"></script>
</head>

<body>
  <!-- Custom cursor dot (JS will drive it) -->
  <div class="cursor-dot" id="cursorDot" aria-hidden="true"></div>

  <a class="skip-link" href="#main">Skip to content</a>

  <header class="topbar">
    <div class="container topbar__inner">
      <div class="brand" data-reveal>
        <div class="brand__mark" aria-hidden="true">GG</div>
        <div class="brand__text">
          <div class="brand__name">GitGrade</div>
          <div class="brand__tagline">Recruiter-grade repo analysis</div>
        </div>
      </div>

      <div class="topbar__actions" data-reveal>
        <button class="btn btn--ghost" id="demoBtn" type="button">Load demo</button>
        <button class="btn btn--soft" id="copyLinkBtn" type="button">Copy share link</button>
      </div>
    </div>
  </header>

  <main id="main" class="container">
    <!-- HERO: input + score card -->
    <section class="hero">
      <div class="hero__grid">
        <div class="hero__left" data-reveal>
          <h1 class="hero__title">Analyze a GitHub repository like a recruiter.</h1>
          <p class="hero__subtitle">
            Paste a public GitHub repo URL to generate a score, high-signal dashboards, a detailed review, and a prioritized roadmap.
          </p>

          <form class="repo-form" id="repoForm" autocomplete="off">
            <label class="sr-only" for="repoUrl">GitHub repository URL</label>

            <div class="repo-form__field">
              <span class="repo-form__icon" aria-hidden="true">ðŸ”—</span>
              <input id="repoUrl" name="repoUrl" type="url" inputmode="url"
                     placeholder="https://github.com/owner/repo" required />
            </div>

            <div class="repo-form__actions">
              <button class="btn btn--primary" id="analyzeBtn" type="submit">Analyze</button>
              <button class="btn btn--ghost" id="resetBtn" type="button">Reset</button>
            </div>

            <p class="repo-form__hint">
              Public repositories only. (Tip: Paste the main repo URL, not /blob or /commit links.)
            </p>
          </form>

          <div class="status" id="statusBox" role="status" aria-live="polite" aria-atomic="true"></div>

          <div class="chips" data-reveal>
            <span class="chip">Score (0â€“100)</span>
            <span class="chip">Visual dashboards</span>
            <span class="chip">Recruiter summary</span>
            <span class="chip">Action roadmap</span>
          </div>
        </div>

        <aside class="hero__right" data-reveal>
          <div class="glasscard">
            <div class="glasscard__top">
              <div>
                <div class="label">Overall Score</div>
                <div class="scoreline">
                  <span class="scoreline__num" id="overallScore">--</span>
                  <span class="scoreline__den">/100</span>
                </div>
                <div class="muted" id="gradeLabel">Grade: --</div>
              </div>

              <div class="donutwrap">
                <canvas id="scoreChart" aria-label="Overall score chart" role="img"></canvas>
              </div>
            </div>

            <div class="kpi-grid">
              <div class="kpi">
                <div class="kpi__value" id="kpiFiles">--</div>
                <div class="kpi__label">Files</div>
              </div>
              <div class="kpi">
                <div class="kpi__value" id="kpiFolders">--</div>
                <div class="kpi__label">Folders</div>
              </div>
              <div class="kpi">
                <div class="kpi__value" id="kpiCommits">--</div>
                <div class="kpi__label">Recent commits</div>
              </div>
              <div class="kpi">
                <div class="kpi__value" id="kpiPrimaryLang">--</div>
                <div class="kpi__label">Primary language</div>
              </div>
            </div>

            <div class="legend">
              <span class="legend__item"><span class="dot dot--good" aria-hidden="true"></span>Strong</span>
              <span class="legend__item"><span class="dot dot--warn" aria-hidden="true"></span>Needs work</span>
              <span class="legend__item"><span class="dot dot--bad" aria-hidden="true"></span>Risk</span>
            </div>
          </div>
        </aside>
      </div>
    </section>

    <!-- Add a bit more breathing room before the report -->
    <div class="section-gap" aria-hidden="true"></div>

    <!-- REPORT (always visible) -->
    <section id="report" class="report">
      <div class="report__header" data-reveal>
        <h2 class="report__title">Repository Report</h2>
        <p class="report__subtitle muted">Make a decision quickly from visuals, then validate with detail.</p>
      </div>

      <!-- Sticky in-page navigation (bar) -->
      <nav class="reportnav" aria-label="Report navigation" data-reveal>
        <a class="reportnav__item" href="#r-overview">Overview</a>
        <a class="reportnav__item" href="#r-dashboards">Dashboards</a>
        <a class="reportnav__item" href="#r-heatmap">Heatmap</a>
        <a class="reportnav__item" href="#r-details">Detailed analysis</a>
        <a class="reportnav__item" href="#r-roadmap">Roadmap</a>
      </nav>

      <!-- Overview -->
      <div id="r-overview" class="report__top">
        <article class="card" data-reveal>
          <h3 class="card__title">Executive Summary</h3>
          <!-- JS will fill this as categorized bullets -->
          <div class="kv" id="execSummary">
            <div class="kv__row"><span class="kv__k">Overall</span><span class="kv__v">--</span></div>
            <div class="kv__row"><span class="kv__k">Strengths</span><span class="kv__v">--</span></div>
            <div class="kv__row"><span class="kv__k">Risks</span><span class="kv__v">--</span></div>
          </div>
        </article>

        <article class="card" data-reveal>
          <h3 class="card__title">Recruiter Signals</h3>
          <!-- JS will fill this as a compact grid -->
          <div class="siggrid" id="recruiterSignals">
            <div class="sig"><span class="sig__k">Primary language</span><span class="sig__v">--</span></div>
            <div class="sig"><span class="sig__k">Files / folders</span><span class="sig__v">--</span></div>
            <div class="sig"><span class="sig__k">Tests detected</span><span class="sig__v">--</span></div>
            <div class="sig"><span class="sig__k">Last update</span><span class="sig__v">--</span></div>
          </div>
        </article>
      </div>

      <!-- Dashboards -->
      <div id="r-dashboards" class="chart-grid">
        <article class="chartcard" data-reveal>
          <div class="chartcard__head">
            <h3 class="chartcard__title">Quality Radar</h3>
            <p class="chartcard__subtitle muted">Six-dimension snapshot.</p>
          </div>
          <div class="chartcard__body chartcard__body--md">
            <canvas id="radarChart" aria-label="Radar chart" role="img"></canvas>
          </div>
        </article>

        <article class="chartcard" data-reveal>
          <div class="chartcard__head">
            <h3 class="chartcard__title">Score Breakdown</h3>
            <p class="chartcard__subtitle muted">Dimension contributions.</p>
          </div>
          <div class="chartcard__body chartcard__body--md">
            <canvas id="breakdownChart" aria-label="Score breakdown chart" role="img"></canvas>
          </div>
        </article>

        <article class="chartcard" data-reveal>
          <div class="chartcard__head">
            <h3 class="chartcard__title">File Types</h3>
            <p class="chartcard__subtitle muted">Extension distribution (top).</p>
          </div>
          <div class="chartcard__body chartcard__body--sm">
            <canvas id="fileTypeChart" aria-label="File types chart" role="img"></canvas>
          </div>
        </article>

        <article class="chartcard" data-reveal>
          <div class="chartcard__head">
            <h3 class="chartcard__title">Commit Trend</h3>
            <p class="chartcard__subtitle muted">Recent activity (sample).</p>
          </div>
          <div class="chartcard__body chartcard__body--sm">
            <canvas id="commitChart" aria-label="Commit trend chart" role="img"></canvas>
          </div>
        </article>
      </div>

      <!-- Heatmap -->
      <!-- <div id="r-heatmap" class="chart-grid">
        <article class="chartcard chartcard--wide" data-reveal>
          <div class="chartcard__head">
            <h3 class="chartcard__title">Commit Heatmap</h3>
            <p class="chartcard__subtitle muted">GitHub-style daily activity (computed from recent commits).</p>
          </div>
          <div class="chartcard__body chartcard__body--heat">
            <canvas id="heatmapChart" aria-label="Commit heatmap" role="img"></canvas>
          </div>
        </article>
      </div> -->

      <!-- Details + Roadmap -->
      <div class="report__cols">
        <article class="card" id="r-details" data-reveal>
          <h3 class="card__title">Detailed Analysis</h3>
          <ul class="bullets" id="detailedAnalysis">
            <li>--</li>
          </ul>
        </article>

        <article class="card" id="r-roadmap" data-reveal>
          <h3 class="card__title">Personalized Roadmap</h3>
          <ul class="bullets" id="roadmap">
            <li>--</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- Loading overlay -->
    <div class="overlay" id="loadingOverlay" aria-hidden="true" hidden>
      <div class="overlay__card" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="spinner" aria-hidden="true"></div>
        <div>
          <div class="overlay__title">Analyzing repositoryâ€¦</div>
          <div class="overlay__text muted" id="loadingText">Fetching GitHub data and generating the report.</div>
        </div>
      </div>
    </div>

    <noscript>
      <div class="noscript">Enable JavaScript to fetch GitHub data and render charts.</div>
    </noscript>
  </main>

  <footer class="footer">
    <div class="container footer__inner">
      <div>
        <div class="footer__title">GitGrade</div>
        <div class="footer__text">Built for recruiter-style evaluation: visuals first, evidence second.</div>
      </div>
      <div class="footer__right">
        <a class="navlink" href="https://docs.github.com/en/rest" target="_blank" rel="noreferrer">GitHub API</a>
        <a class="navlink" href="https://www.chartjs.org/" target="_blank" rel="noreferrer">Chart.js</a>
      </div>
    </div>
  </footer>
</body>
</html>
