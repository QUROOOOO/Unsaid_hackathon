/* =========================
   GitGrade â€” styles.css
   ========================= */

/* ---------- Design tokens ---------- */
:root{
  /* Spacing (Fibonacci-ish) */
  --s1: 8px;
  --s2: 13px;
  --s3: 21px;
  --s4: 34px;
  --s5: 55px;

  /* Radii */
  --r-sm: 12px;
  --r-md: 16px;
  --r-lg: 20px;

  /* Typography */
  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  /* Colors */
  --bg: #0b1020;
  --panel: rgba(255,255,255,0.06);
  --panel-2: rgba(255,255,255,0.08);
  --stroke: rgba(255,255,255,0.12);
  --stroke-2: rgba(255,255,255,0.18);

  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.72);
  --muted-2: rgba(255,255,255,0.58);

  --primary: #38bdf8; /* cyan */
  --primary-2: #22c55e; /* green */

  --good: #22c55e;
  --warn: #f59e0b;
  --bad:  #ef4444;

  /* Shadows */
  --shadow: 0 18px 60px rgba(0,0,0,0.35);

  /* Layout */
  --container: 1100px;
}

/* Light-mode fallback (keeps it readable if browser forces light) */
@media (prefers-color-scheme: light){
  :root{
    --bg: #f6f7fb;
    --panel: rgba(10,14,26,0.05);
    --panel-2: rgba(10,14,26,0.07);
    --stroke: rgba(10,14,26,0.12);
    --stroke-2: rgba(10,14,26,0.16);
    --text: rgba(10,14,26,0.92);
    --muted: rgba(10,14,26,0.70);
    --muted-2: rgba(10,14,26,0.56);
    --shadow: 0 14px 40px rgba(10,14,26,0.12);
  }
}

/* ---------- Resets ---------- */
*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: var(--font);
  color: var(--text);
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(56,189,248,0.25), transparent 60%),
    radial-gradient(900px 500px at 90% 0%, rgba(34,197,94,0.18), transparent 60%),
    radial-gradient(900px 600px at 50% 110%, rgba(245,158,11,0.12), transparent 55%),
    var(--bg);
  line-height: 1.5;
}

img,svg,canvas{ max-width:100%; display:block; }
a{ color: var(--primary); text-decoration: none; }
a:hover{ text-decoration: underline; }
button,input{ font: inherit; }

:focus-visible{
  outline: 3px solid rgba(56,189,248,0.65);
  outline-offset: 3px;
  border-radius: 10px;
}

/* ---------- Utilities ---------- */
.container{
  width: min(var(--container), calc(100% - 2*var(--s3)));
  margin: 0 auto;
}

.muted{ color: var(--muted); }

.sr-only{
  position:absolute !important;
  width:1px !important;
  height:1px !important;
  padding:0 !important;
  margin:-1px !important;
  overflow:hidden !important;
  clip:rect(0,0,0,0) !important;
  white-space:nowrap !important;
  border:0 !important;
}

/* Skip link (keyboard accessibility) */
.skip-link{
  position: absolute;
  left: -9999px;
  top: 0;
  padding: 10px 12px;
  background: rgba(255,255,255,0.92);
  color: #0b1020;
  border-radius: 12px;
  z-index: 9999;
}
.skip-link:focus{
  left: 12px;
  top: 12px;
  box-shadow: var(--shadow);
}

/* ---------- App shell ---------- */
.app-shell{
  min-height: 100%;
  display:flex;
  flex-direction: column;
}

/* ---------- Topbar ---------- */
.topbar{
  position: sticky;
  top: 0;
  z-index: 50;
  border-bottom: 1px solid var(--stroke);
  background: rgba(0,0,0,0.22);
  backdrop-filter: blur(12px);
}

@media (prefers-color-scheme: light){
  .topbar{
    background: rgba(255,255,255,0.55);
  }
}

.topbar__inner{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: var(--s3);
  padding: var(--s2) 0;
}

.brand{
  display:flex;
  align-items:center;
  gap: 12px;
  user-select:none;
}
.brand__mark{
  width: 40px;
  height: 40px;
  border-radius: 14px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight: 900;
  letter-spacing: -0.03em;
  color: #06101a;
  background: linear-gradient(135deg, rgba(56,189,248,0.95), rgba(34,197,94,0.75));
}
.brand__name{
  font-weight: 900;
  letter-spacing: -0.02em;
  line-height: 1.1;
}
.brand__tagline{
  font-size: 12px;
  color: var(--muted);
  margin-top: 2px;
}

.topbar__nav{
  display:flex;
  gap: var(--s3);
  align-items:center;
}
.navlink{
  color: var(--muted);
  font-weight: 650;
  font-size: 14px;
}
.navlink:hover{ color: var(--text); text-decoration:none; }

.topbar__actions{
  display:flex;
  gap: var(--s2);
  align-items:center;
}

/* Responsive: collapse nav earlier */
@media (max-width: 860px){
  .topbar__nav{ display:none; }
}

/* ---------- Buttons ---------- */
.btn{
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  padding: 10px 12px;
  border-radius: 14px;
  font-weight: 750;
  cursor: pointer;
  transition: transform 0.08s ease, background 0.18s ease, border-color 0.18s ease, opacity 0.18s ease;
}
.btn:hover{
  border-color: var(--stroke-2);
  background: rgba(255,255,255,0.08);
}
.btn:active{ transform: scale(0.98); }
.btn[disabled]{ cursor:not-allowed; opacity:0.65; }

.btn--primary{
  border: none;
  color: #06101a;
  background: linear-gradient(135deg, rgba(56,189,248,0.95), rgba(34,197,94,0.78));
}
.btn--primary:hover{ background: linear-gradient(135deg, rgba(56,189,248,1), rgba(34,197,94,0.9)); }

.btn--ghost{
  background: transparent;
}
.btn--soft{
  background: rgba(56,189,248,0.10);
  border-color: rgba(56,189,248,0.22);
}

/* ---------- Hero ---------- */
.hero{
  padding: var(--s5) 0 var(--s4);
}

.hero__grid{
  display:grid;
  grid-template-columns: 1.1fr 0.9fr;
  gap: var(--s4);
  align-items: start;
}

.hero__title{
  margin: 0;
  font-size: clamp(30px, 3.2vw, 48px);
  letter-spacing: -0.03em;
  line-height: 1.08;
}

.hero__subtitle{
  margin: var(--s2) 0 0;
  color: var(--muted);
  font-size: 16px;
  max-width: 70ch;
}

@media (max-width: 980px){
  .hero__grid{ grid-template-columns: 1fr; }
}

/* ---------- Repo form ---------- */
.repo-form{
  margin-top: var(--s3);
  display:flex;
  flex-direction: column;
  gap: var(--s2);
}

.repo-form__field{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 12px 12px;
  border: 1px solid var(--stroke);
  border-radius: 16px;
  background: rgba(0,0,0,0.18);
  backdrop-filter: blur(8px);
}

@media (prefers-color-scheme: light){
  .repo-form__field{ background: rgba(255,255,255,0.50); }
}

.repo-form__icon{
  opacity: 0.75;
  font-size: 14px;
}

.repo-form input{
  width:100%;
  border:none;
  outline:none;
  background: transparent;
  color: var(--text);
  font-size: 16px;
}

.repo-form__actions{
  display:flex;
  gap: var(--s2);
  flex-wrap: wrap;
}

.repo-form__hint{
  margin: 0;
  font-size: 12px;
  color: var(--muted-2);
}

/* ---------- Status box ---------- */
.status{
  margin-top: var(--s2);
  padding: 12px 14px;
  border-radius: 16px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,0.05);
  color: var(--muted);
  display:none;
}
.status.show{ display:block; }
.status.error{
  display:block;
  border-color: rgba(239,68,68,0.35);
  background: rgba(239,68,68,0.10);
  color: rgba(255,255,255,0.92);
}
@media (prefers-color-scheme: light){
  .status.error{ color: rgba(10,14,26,0.92); }
}

/* ---------- Chips ---------- */
.chips{
  margin-top: var(--s3);
  display:flex;
  flex-wrap: wrap;
  gap: var(--s2);
}
.chip{
  font-size: 12px;
  padding: 8px 10px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,0.04);
  border-radius: 999px;
  color: var(--muted);
}

/* ---------- Glass card (right hero) ---------- */
.glasscard{
  background: var(--panel);
  border: 1px solid var(--stroke);
  border-radius: 20px;
  padding: var(--s4);
  box-shadow: var(--shadow);
  backdrop-filter: blur(12px);
}

.glasscard__top{
  display:flex;
  gap: var(--s3);
  align-items: center;
  justify-content: space-between;
}

.label{
  font-size: 12px;
  color: var(--muted-2);
  letter-spacing: 0.02em;
  text-transform: uppercase;
}

.scoreline{
  display:flex;
  align-items: baseline;
  gap: 8px;
  margin-top: 8px;
}
.scoreline__num{
  font-weight: 950;
  letter-spacing: -0.03em;
  font-size: 52px;
  line-height: 1;
}
.scoreline__den{
  color: var(--muted);
  font-weight: 800;
}

.donutwrap{
  width: 180px;
  height: 180px;
}
.donutwrap canvas{
  width: 100% !important;
  height: 100% !important;
}

@media (max-width: 520px){
  .glasscard__top{ flex-direction: column; align-items: flex-start; }
  .donutwrap{ width: 160px; height: 160px; }
}

/* ---------- KPI ---------- */
.kpi-grid{
  margin-top: var(--s3);
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: var(--s2);
}
.kpi{
  padding: var(--s3);
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--stroke);
  border-radius: 16px;
}
.kpi__value{
  font-weight: 900;
  font-size: 18px;
  letter-spacing: -0.01em;
}
.kpi__label{
  margin-top: 6px;
  color: var(--muted);
  font-size: 12px;
}

/* ---------- Legend ---------- */
.legend{
  display:flex;
  flex-wrap: wrap;
  gap: var(--s2);
  margin-top: var(--s3);
}
.legend__item{
  display:inline-flex;
  align-items:center;
  gap: 10px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,0.04);
  color: var(--muted);
  font-size: 12px;
}
.dot{
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: var(--primary);
}
.dot--good{ background: var(--good); }
.dot--warn{ background: var(--warn); }
.dot--bad{ background: var(--bad); }

/* ---------- Sections ---------- */
.section{
  padding: var(--s4) 0;
}

.section__head{
  margin-bottom: var(--s3);
}

.section__title{
  margin: 0;
  font-size: 22px;
  letter-spacing: -0.02em;
}
.section__subtitle{
  margin: var(--s1) 0 0;
  color: var(--muted);
  max-width: 80ch;
}

/* ---------- Steps ---------- */
.steps{
  display:grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: var(--s3);
}
.step{
  background: var(--panel);
  border: 1px solid var(--stroke);
  border-radius: 18px;
  padding: var(--s3);
  display:flex;
  gap: var(--s2);
  backdrop-filter: blur(10px);
}
.step__num{
  width: 34px;
  height: 34px;
  border-radius: 14px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight: 900;
  color: #06101a;
  background: rgba(56,189,248,0.9);
}
.step__title{ font-weight: 900; letter-spacing: -0.01em; }
.step__text{ margin-top: 6px; color: var(--muted); font-size: 14px; }

@media (max-width: 980px){
  .steps{ grid-template-columns: 1fr; }
}

/* ---------- Metric grid ---------- */
.metric-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: var(--s3);
}
.metric{
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--stroke);
  border-radius: 18px;
  padding: var(--s3);
}
.metric__title{
  margin: 0;
  font-size: 16px;
  letter-spacing: -0.01em;
}
.metric__text{
  margin: 10px 0 0;
  color: var(--muted);
  font-size: 14px;
}
@media (max-width: 980px){
  .metric-grid{ grid-template-columns: 1fr; }
}

/* ---------- Report ---------- */
.report{
  animation: fadeIn 220ms ease-out;
}
@keyframes fadeIn{
  from{ opacity:0; transform: translateY(8px); }
  to{ opacity:1; transform: translateY(0); }
}

.report__top{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--s3);
}
@media (max-width: 980px){
  .report__top{ grid-template-columns: 1fr; }
}

.card{
  background: var(--panel);
  border: 1px solid var(--stroke);
  border-radius: 18px;
  padding: var(--s3);
  backdrop-filter: blur(10px);
}
.card__title{
  margin: 0;
  font-size: 16px;
  letter-spacing: -0.01em;
}
.card__text{
  margin: 10px 0 0;
  line-height: 1.7;
}

/* ---------- Charts ---------- */
.chart-grid{
  margin-top: var(--s3);
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--s3);
}
@media (max-width: 980px){
  .chart-grid{ grid-template-columns: 1fr; }
}

.chartcard{
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--stroke);
  border-radius: 18px;
  padding: var(--s3);
}
.chartcard__head{
  margin-bottom: var(--s2);
}
.chartcard__title{
  margin: 0;
  font-size: 16px;
  letter-spacing: -0.01em;
}
.chartcard__subtitle{
  margin: 8px 0 0;
  font-size: 13px;
}

/* Canvas sizing: keep width responsive and height stable */
.chartcard__body{
  position: relative;
  height: 280px;
}
.chartcard__body canvas{
  width: 100% !important;
  height: 100% !important;
}

/* ---------- Lists ---------- */
.bullets{
  margin: 12px 0 0;
  padding-left: 18px;
  color: rgba(255,255,255,0.90);
  line-height: 1.6;
}
.bullets li{ margin: 10px 0; }

@media (prefers-color-scheme: light){
  .bullets{ color: rgba(10,14,26,0.90); }
}

/* ---------- Two-column report bottom ---------- */
.report__cols{
  margin-top: var(--s3);
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--s3);
}
@media (max-width: 980px){
  .report__cols{ grid-template-columns: 1fr; }
}

/* ---------- Overlay loading ---------- */
.overlay{
  position: fixed;
  inset: 0;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(4px);
  z-index: 80;
}
.overlay__card{
  width: min(520px, calc(100% - 2*var(--s3)));
  display:flex;
  gap: var(--s3);
  align-items:center;
  background: rgba(255,255,255,0.08);
  border: 1px solid var(--stroke);
  border-radius: 18px;
  padding: var(--s3);
  box-shadow: var(--shadow);
}
.overlay__title{
  font-weight: 900;
  letter-spacing: -0.01em;
}
.overlay__text{
  margin-top: 6px;
  font-size: 13px;
}

/* Spinner */
.spinner{
  width: 34px;
  height: 34px;
  border-radius: 999px;
  border: 3px solid rgba(255,255,255,0.22);
  border-top-color: rgba(56,189,248,0.95);
  animation: spin 0.9s linear infinite;
}
@keyframes spin{
  to{ transform: rotate(360deg); }
}

/* ---------- Footer ---------- */
.footer{
  margin-top: var(--s5);
  border-top: 1px solid var(--stroke);
  padding: var(--s4) 0;
}
.footer__inner{
  display:flex;
  gap: var(--s4);
  justify-content: space-between;
  align-items:flex-start;
}
.footer__title{
  font-weight: 900;
  letter-spacing: -0.02em;
}
.footer__text{
  margin-top: 8px;
  color: var(--muted);
  font-size: 13px;
  max-width: 70ch;
}
.footer__right{
  display:flex;
  gap: var(--s3);
  flex-wrap: wrap;
  justify-content: flex-end;
}
@media (max-width: 860px){
  .footer__inner{ flex-direction: column; }
  .footer__right{ justify-content: flex-start; }
}

/* ---------- Noscript ---------- */
.noscript{
  margin: var(--s4) 0;
  padding: var(--s3);
  background: rgba(239,68,68,0.10);
  border: 1px solid rgba(239,68,68,0.35);
  border-radius: 18px;
}
